"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1236,4888],{6400:(V,D,m)=>{m.d(D,{C_:()=>H,io:()=>l,w8:()=>z});var _=m(1528);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var I=function(o){return o.Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE",o}(I||{});class E extends Error{constructor(n,r,c){super(n),this.message=n,this.code=r,this.data=c}}const t=o=>{var n,r,c,g,u;const C=o.CapacitorCustomPlatform||null,f=o.Capacitor||{},w=f.Plugins=f.Plugins||{},P=o.CapacitorPlatforms,N=(null===(n=null==P?void 0:P.currentPlatform)||void 0===n?void 0:n.getPlatform)||(()=>null!==C?C.name:(o=>{var n,r;return null!=o&&o.androidBridge?"android":null!==(r=null===(n=null==o?void 0:o.webkit)||void 0===n?void 0:n.messageHandlers)&&void 0!==r&&r.bridge?"ios":"web"})(o)),ue=(null===(r=null==P?void 0:P.currentPlatform)||void 0===r?void 0:r.isNativePlatform)||(()=>"web"!==N()),ge=(null===(c=null==P?void 0:P.currentPlatform)||void 0===c?void 0:c.isPluginAvailable)||(O=>{const M=re.get(O);return!!(null!=M&&M.platforms.has(N())||se(O))}),se=(null===(g=null==P?void 0:P.currentPlatform)||void 0===g?void 0:g.getPluginHeader)||(O=>{var M;return null===(M=f.PluginHeaders)||void 0===M?void 0:M.find(q=>q.name===O)}),re=new Map,_e=(null===(u=null==P?void 0:P.currentPlatform)||void 0===u?void 0:u.registerPlugin)||((O,M={})=>{const q=re.get(O);if(q)return console.warn(`Capacitor plugin "${O}" already registered. Cannot register plugins twice.`),q.proxy;const B=N(),Q=se(O);let U;const be=function(){var x=(0,_.c)(function*(){return!U&&B in M?U=U="function"==typeof M[B]?yield M[B]():M[B]:null!==C&&!U&&"web"in M&&(U=U="function"==typeof M.web?yield M.web():M.web),U});return function(){return x.apply(this,arguments)}}(),ae=x=>{let F;const A=(...Y)=>{const j=be().then(L=>{const K=((x,F)=>{var A,Y;if(!Q){if(x)return null===(Y=x[F])||void 0===Y?void 0:Y.bind(x);throw new E(`"${O}" plugin is not implemented on ${B}`,I.Unimplemented)}{const j=null==Q?void 0:Q.methods.find(L=>F===L.name);if(j)return"promise"===j.rtype?L=>f.nativePromise(O,F.toString(),L):(L,K)=>f.nativeCallback(O,F.toString(),L,K);if(x)return null===(A=x[F])||void 0===A?void 0:A.bind(x)}})(L,x);if(K){const te=K(...Y);return F=null==te?void 0:te.remove,te}throw new E(`"${O}.${x}()" is not implemented on ${B}`,I.Unimplemented)});return"addListener"===x&&(j.remove=(0,_.c)(function*(){return F()})),j};return A.toString=()=>`${x.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:x,writable:!1,configurable:!1}),A},ce=ae("addListener"),le=ae("removeListener"),Pe=(x,F)=>{const A=ce({eventName:x},F),Y=function(){var L=(0,_.c)(function*(){const K=yield A;le({eventName:x,callbackId:K},F)});return function(){return L.apply(this,arguments)}}(),j=new Promise(L=>A.then(()=>L({remove:Y})));return j.remove=(0,_.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Y()}),j},ie=new Proxy({},{get(x,F){switch(F){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Q?Pe:ce;case"removeListener":return le;default:return ae(F)}}});return w[O]=ie,re.set(O,{name:O,proxy:ie,platforms:new Set([...Object.keys(M),...Q?[B]:[]])}),ie});return f.convertFileSrc||(f.convertFileSrc=O=>O),f.getPlatform=N,f.handleError=O=>o.console.error(O),f.isNativePlatform=ue,f.isPluginAvailable=ge,f.pluginMethodNoop=(O,M,q)=>Promise.reject(`${q} does not have an implementation of "${M}".`),f.registerPlugin=_e,f.Exception=E,f.DEBUG=!!f.DEBUG,f.isLoggingEnabled=!!f.isLoggingEnabled,f.platform=f.getPlatform(),f.isNative=f.isNativePlatform(),f},G=(o=>o.Capacitor=t(o))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),H=G.registerPlugin;class z{constructor(n){this.listeners={},this.windowListeners={},n&&(console.warn(`Capacitor WebPlugin "${n.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=n)}addListener(n,r){var c=this;this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(r);const u=this.windowListeners[n];u&&!u.registered&&this.addWindowListener(u);const C=function(){var w=(0,_.c)(function*(){return c.removeListener(n,r)});return function(){return w.apply(this,arguments)}}(),f=Promise.resolve({remove:C});return Object.defineProperty(f,"remove",{value:(w=(0,_.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield C()}),function(){return w.apply(this,arguments)})}),f;var w}removeAllListeners(){var n=this;return(0,_.c)(function*(){n.listeners={};for(const r in n.windowListeners)n.removeWindowListener(n.windowListeners[r]);n.windowListeners={}})()}notifyListeners(n,r){const c=this.listeners[n];c&&c.forEach(g=>g(r))}hasListeners(n){return!!this.listeners[n].length}registerWindowListener(n,r){this.windowListeners[r]={registered:!1,windowEventName:n,pluginEventName:r,handler:c=>{this.notifyListeners(r,c)}}}unimplemented(n="not implemented"){return new G.Exception(n,I.Unimplemented)}unavailable(n="not available"){return new G.Exception(n,I.Unavailable)}removeListener(n,r){var c=this;return(0,_.c)(function*(){const g=c.listeners[n];if(!g)return;const u=g.indexOf(r);c.listeners[n].splice(u,1),c.listeners[n].length||c.removeWindowListener(c.windowListeners[n])})()}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}}const W=o=>encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),b=o=>o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class k extends z{getCookies(){return(0,_.c)(function*(){const n=document.cookie,r={};return n.split(";").forEach(c=>{if(c.length<=0)return;let[g,u]=c.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");g=b(g).trim(),u=b(u).trim(),r[g]=u}),r})()}setCookie(n){return(0,_.c)(function*(){try{const r=W(n.key),c=W(n.value),g=`; expires=${(n.expires||"").replace("expires=","")}`,u=(n.path||"/").replace("path=",""),C=null!=n.url&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${r}=${c||""}${g}; path=${u}; ${C};`}catch(r){return Promise.reject(r)}})()}deleteCookie(n){return(0,_.c)(function*(){try{document.cookie=`${n.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}})()}clearCookies(){return(0,_.c)(function*(){try{const n=document.cookie.split(";")||[];for(const r of n)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(n){return Promise.reject(n)}})()}clearAllCookies(){var n=this;return(0,_.c)(function*(){try{yield n.clearCookies()}catch(r){return Promise.reject(r)}})()}}H("CapacitorCookies",{web:()=>new k});const a=function(){var o=(0,_.c)(function*(n){return new Promise((r,c)=>{const g=new FileReader;g.onload=()=>{const u=g.result;r(u.indexOf(",")>=0?u.split(",")[1]:u)},g.onerror=u=>c(u),g.readAsDataURL(n)})});return function(r){return o.apply(this,arguments)}}(),l=(o,n={})=>{const r=Object.assign({method:o.method||"GET",headers:o.headers},n),g=((o={})=>{const n=Object.keys(o);return Object.keys(o).map(g=>g.toLocaleLowerCase()).reduce((g,u,C)=>(g[u]=o[n[C]],g),{})})(o.headers)["content-type"]||"";if("string"==typeof o.data)r.body=o.data;else if(g.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[C,f]of Object.entries(o.data||{}))u.set(C,f);r.body=u.toString()}else if(g.includes("multipart/form-data")){const u=new FormData;if(o.data instanceof FormData)o.data.forEach((f,w)=>{u.append(w,f)});else for(const f of Object.keys(o.data))u.append(f,o.data[f]);r.body=u;const C=new Headers(r.headers);C.delete("content-type"),r.headers=C}else(g.includes("application/json")||"object"==typeof o.data)&&(r.body=JSON.stringify(o.data));return r};class h extends z{request(n){return(0,_.c)(function*(){const r=l(n,n.webFetchExtra),c=((o,n=!0)=>o?Object.entries(o).reduce((c,g)=>{const[u,C]=g;let f,w;return Array.isArray(C)?(w="",C.forEach(P=>{f=n?encodeURIComponent(P):P,w+=`${u}=${f}&`}),w.slice(0,-1)):(f=n?encodeURIComponent(C):C,w=`${u}=${f}`),`${c}&${w}`},"").substr(1):null)(n.params,n.shouldEncodeUrlParams),g=c?`${n.url}?${c}`:n.url,u=yield fetch(g,r),C=u.headers.get("content-type")||"";let w,P,{responseType:f="text"}=u.ok?n:{};switch(C.includes("application/json")&&(f="json"),f){case"arraybuffer":case"blob":P=yield u.blob(),w=yield a(P);break;case"json":w=yield u.json();break;default:w=yield u.text()}const ee={};return u.headers.forEach((N,oe)=>{ee[oe]=N}),{data:w,headers:ee,status:u.status,url:u.url}})()}get(n){var r=this;return(0,_.c)(function*(){return r.request(Object.assign(Object.assign({},n),{method:"GET"}))})()}post(n){var r=this;return(0,_.c)(function*(){return r.request(Object.assign(Object.assign({},n),{method:"POST"}))})()}put(n){var r=this;return(0,_.c)(function*(){return r.request(Object.assign(Object.assign({},n),{method:"PUT"}))})()}patch(n){var r=this;return(0,_.c)(function*(){return r.request(Object.assign(Object.assign({},n),{method:"PATCH"}))})()}delete(n){var r=this;return(0,_.c)(function*(){return r.request(Object.assign(Object.assign({},n),{method:"DELETE"}))})()}}H("CapacitorHttp",{web:()=>new h})},5404:(V,D,m)=>{m.d(D,{Gq:()=>e,Y9:()=>_});var _=function(p){return p.Documents="DOCUMENTS",p.Data="DATA",p.Library="LIBRARY",p.Cache="CACHE",p.External="EXTERNAL",p.ExternalStorage="EXTERNAL_STORAGE",p}(_||{}),e=function(p){return p.UTF8="utf8",p.ASCII="ascii",p.UTF16="utf16",p}(e||{})},1236:(V,D,m)=>{m.r(D),m.d(D,{FacturaTablesPageModule:()=>W});var _=m(1368),e=m(6504),v=m(9548),R=m(6676),p=m(1528),T=m(7848),$=m(4708),I=m(6400),E=m(5404);const S=(0,I.C_)("Filesystem",{web:()=>m.e(7688).then(m.bind(m,7688)).then(b=>new b.FilesystemWeb)});var t=m(4496),J=m(5359),G=m(4888);function H(b,k){if(1&b){const y=t.KQA();t.I0R(0,"ion-row")(1,"ion-col"),t.OEk(2),t.C$Y(),t.I0R(3,"ion-col"),t.OEk(4),t.C$Y(),t.I0R(5,"ion-col"),t.OEk(6),t.C$Y(),t.I0R(7,"ion-col"),t.OEk(8),t.C$Y(),t.I0R(9,"ion-col"),t.OEk(10),t.C$Y(),t.I0R(11,"ion-col"),t.OEk(12),t.C$Y(),t.I0R(13,"ion-col")(14,"ion-button",18),t.qCj("click",function(){const i=t.usT(y).$implicit,l=t.GaO();return t.CGJ(l.enviarFactura(i))}),t.wR5(15,"ion-icon",19),t.C$Y(),t.I0R(16,"ion-button",20),t.qCj("click",function(){const i=t.usT(y).$implicit,l=t.GaO();return t.CGJ(l.descargarFactura(i))}),t.wR5(17,"ion-icon",21),t.C$Y()()()}if(2&b){const y=k.$implicit;t.yG2(2),t.cNF(y.NumeroFactura||"-"),t.yG2(2),t.cNF(y.FechaFactura||"-"),t.yG2(2),t.cNF(y.FolioUUIDFactura||"-"),t.yG2(2),t.cNF(y.NombreDeFactura||"-"),t.yG2(2),t.cNF(y.RFCFacturar||"-"),t.yG2(2),t.oRS("$",y.ImporteDeLaFactura||"-","")}}const X=[{path:"",component:(()=>{var b;class k{constructor(a,s,i,l,h){this.router=a,this.authService=s,this.cdr=i,this.alertController=l,this.loadingController=h,this.facturasFiltradas=[],this.listaOriginalFacturas="",this.seleccionado=null,this.facturaSeleccionada=null,this.currentPage=1,this.pageSize=5,this.form=new e.WC({numero:new e.Ku(""),fecha:new e.Ku(""),folio:new e.Ku(""),nombre:new e.Ku(""),rfc:new e.Ku(""),importe:new e.Ku(0,e.AQ.pattern(/^\d+\.?\d{0,2}$/))}),this.displayedData=[]}ngOnInit(){var a=this;return(0,p.c)(function*(){yield(yield a.loadingController.create({message:"Cargando facturas...",spinner:"crescent"})).present(),a.facturasFiltradas=Array.from({length:1},()=>({numero:"-",fecha:"",folio:"",nombre:"",rfc:"",importe:"",sr:!1})),a.clearInput(),a.cargarDatosFacturacion(),a.calculateTotalPages(),a.displayedData=a.getPagedData()})()}cargarDatosFacturacion(){var a=this;const s=localStorage.getItem("LUS_CLAVE");var i;s?(console.log("Lus_clave obtenido:",s),this.authService.getDatosFacturacion(s).subscribe({next:(i=(0,p.c)(function*(l){console.log("Respuesta completa de la API:",l),l.ListaFacturas&&l.ListaFacturas.length>0?(console.log("Lista de Facturas:",l.ListaFacturas),a.facturasFiltradas=l.ListaFacturas,a.calculateTotalPages(),a.currentPage=1,a.displayedData=a.getPagedData(),yield a.loadingController.dismiss()):(console.log("No se encontraron facturas en la respuesta"),a.facturasFiltradas=[]),a.calculateTotalPages(),a.displayedData=a.getPagedData()}),function(h){return i.apply(this,arguments)}),error:function(){var i=(0,p.c)(function*(l){console.error("Error al obtener datos de la API",l),a.facturasFiltradas=[],a.calculateTotalPages(),a.displayedData=a.getPagedData(),yield a.loadingController.dismiss()});return function(h){return i.apply(this,arguments)}}()})):(console.log("No se encontr\xf3 lus_clave."),this.facturasFiltradas=[],this.calculateTotalPages(),this.displayedData=this.getPagedData(),this.loadingController.dismiss())}filtrarFacturas(a){this.listaOriginalFacturas||(this.listaOriginalFacturas=[...this.facturasFiltradas]),this.displayedData=a&&""!==a.trim()?this.listaOriginalFacturas.filter(s=>s.NumeroFactura.toString().includes(a)):[...this.listaOriginalFacturas]}toggleSeleccion(a){this.facturaSeleccionada=this.facturaSeleccionada&&this.facturaSeleccionada.numero===a.numero?null:a,this.displayedData=this.displayedData.map(s=>({...s,habilitado:this.facturaSeleccionada&&this.facturaSeleccionada.numero===s.numero})),console.log(`Seleccionado: ${this.seleccionado}`,"Factura Seleccionada:",this.facturaSeleccionada)}seleccionarFila(a){this.seleccionado=a}clearInput(){this.listaOriginalFacturas=""}mostrarNuevaFactura(){this.router.navigate(["main/facturacion2"])}buscarFactura(){this.filtrarFacturas(this.textoBusqueda)}generarFactura(){this.form.valid&&this.form.reset()}calculateTotalPages(){this.totalPages=Math.ceil(this.facturasFiltradas.length/this.pageSize)}updateData(a){this.facturasFiltradas=a,this.calculateTotalPages(),this.currentPage=1,this.displayedData=this.getPagedData()}getPagedData(){const a=(this.currentPage-1)*this.pageSize;return this.facturasFiltradas.slice(a,a+this.pageSize)}changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a,this.displayedData=this.getPagedData())}enviarFactura(a){var s=this;return(0,p.c)(function*(){const i=yield s.loadingController.create({message:"Enviando factura..."});yield i.present();const l={lus_clave:localStorage.getItem("LUS_CLAVE")||"valor_por_defecto",numFactura:a.NumeroFactura,RFC:a.RFCFacturar};var h;s.authService.getEnviarFactura(l).subscribe({next:(h=(0,p.c)(function*(d){yield i.dismiss(),yield(yield s.alertController.create({header:"\xc9xito",message:"Correo enviado exitosamente.",buttons:["OK"]})).present()}),function(o){return h.apply(this,arguments)}),error:function(){var h=(0,p.c)(function*(d){yield i.dismiss(),yield(yield s.alertController.create({header:"Error",message:"Error al enviar el correo. Por favor, intenta de nuevo.",buttons:["OK"]})).present()});return function(o){return h.apply(this,arguments)}}()})})()}descargarFactura(a){var s=this;return(0,p.c)(function*(){console.log("Descargando factura:",a);const i={numFactura:a.NumeroFactura,RFC:a.RFCFacturar},l=s.authService.getDescargarPDF(i),h=s.authService.getDescargarXML(i);(0,T.y)([l,h]).subscribe({next:d=>{console.log("Respuestas exitosas del servidor:",d),s.descargarArchivo(d[0],`Factura-${i.numFactura}.pdf`),s.descargarArchivo(d[1],`Factura-${i.numFactura}.xml`)},error:d=>{console.error("Error en las solicitudes:",d)}})})()}descargarArchivo(a,s){var i=this;if((0,$.s1)("hybrid")){const l=new FileReader;l.readAsDataURL(a),l.onloadend=(0,p.c)(function*(){const d=l.result.split(",")[1];try{yield S.writeFile({path:s,data:d,directory:E.Y9.Documents}),console.log("Archivo guardado en el dispositivo:",s),i.presentAlert("Descarga completa",`El archivo ${s} ha sido guardado en Documentos.`)}catch(o){console.error("Error al guardar el archivo:",o),i.presentAlert("Error","No se pudo guardar el archivo.")}}),l.onerror=h=>{console.error("Error al leer el archivo:",h),this.presentAlert("Error","Error al procesar el archivo para su descarga.")},l.readAsDataURL(a)}else{const l=window.URL.createObjectURL(a),h=document.createElement("a");h.href=l,h.download=s,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(l)}}presentAlert(a,s){var i=this;return(0,p.c)(function*(){yield(yield i.alertController.create({header:a,message:s,buttons:["OK"]})).present()})()}}return(b=k).\u0275fac=function(a){return new(a||b)(t.GI1(R.E5),t.GI1(J.o),t.GI1(t.kD9),t.GI1(v.iW),t.GI1(v.Kg))},b.\u0275cmp=t.In1({type:b,selectors:[["app-factura-tables"]],decls:43,vars:6,consts:[["shouldShowHorizontalMenu2","true","Salir","true","MenuButton","true"],[1,"ion-text-center"],["lines","none",1,"searchBar"],["slot","start","placeholder","Num Factura...","debounce","500",3,"ngModel","ngModelChange","ionChange","keyup.enter"],["slot","start","size","medium","color","light","shape","round",3,"click"],["name","search"],[1,"table-scroll"],[1,"table"],[1,"tableRow"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],["size","auto",1,"ion-align-self-center"],["shape","round","color","medium",1,"pagination-button",3,"disabled","click"],["slot","icon-only","name","chevron-back-outline","shape","round"],[1,"pagination-page-info"],["slot","end","slot","icon-only","name","chevron-forward-outline"],[1,"buttonsFacturar"],["fill","solid","shape","round","color","medium",1,"buttonFac",3,"click"],["fill","solid","shape","solid","color","light",1,"button-table",3,"click"],["name","send-outline"],["fill","solid","shape","solid","color","medium",1,"button-table",3,"click"],["name","download-outline"]],template:function(a,s){1&a&&(t.I0R(0,"ion-content"),t.wR5(1,"app-header",0),t.I0R(2,"h1",1)(3,"b"),t.OEk(4,"Datos de facturaci\xf3n"),t.C$Y()(),t.wR5(5,"br"),t.I0R(6,"ion-item",2)(7,"ion-searchbar",3),t.iHE("ngModelChange",function(l){return t.kNx(s.textoBusqueda,l)||(s.textoBusqueda=l),l}),t.qCj("ionChange",function(){return s.filtrarFacturas(s.textoBusqueda)})("keyup.enter",function(){return s.filtrarFacturas(s.textoBusqueda)}),t.C$Y(),t.I0R(8,"ion-button",4),t.qCj("click",function(){return s.buscarFactura()}),t.wR5(9,"ion-icon",5),t.C$Y()(),t.I0R(10,"div",6)(11,"ion-grid",7)(12,"ion-row",8)(13,"ion-col"),t.OEk(14,"N\xfamero Factura"),t.C$Y(),t.I0R(15,"ion-col"),t.OEk(16,"Fecha"),t.C$Y(),t.I0R(17,"ion-col"),t.OEk(18,"Folio Fiscal"),t.C$Y(),t.I0R(19,"ion-col"),t.OEk(20,"Nombre"),t.C$Y(),t.I0R(21,"ion-col"),t.OEk(22,"RFC"),t.C$Y(),t.I0R(23,"ion-col"),t.OEk(24,"Importe"),t.C$Y(),t.wR5(25,"ion-col"),t.C$Y(),t.yuY(26,H,18,6,"ion-row",9),t.C$Y()(),t.I0R(27,"ion-row",10)(28,"ion-col",11)(29,"ion-button",12),t.qCj("click",function(){return s.changePage(s.currentPage-1)}),t.wR5(30,"ion-icon",13),t.C$Y()(),t.I0R(31,"ion-col",14),t.OEk(32),t.C$Y(),t.I0R(33,"ion-col",11)(34,"ion-button",12),t.qCj("click",function(){return s.changePage(s.currentPage+1)}),t.I0R(35,"ion-icon",15),t.OEk(36,"Siguiente"),t.C$Y()()()(),t.I0R(37,"div")(38,"ion-buttons",16)(39,"ion-button",17),t.qCj("click",function(){return s.mostrarNuevaFactura()}),t.OEk(40," Nueva Factura "),t.C$Y()()(),t.wR5(41,"br")(42,"br"),t.C$Y()),2&a&&(t.yG2(7),t.OKB("ngModel",s.textoBusqueda),t.yG2(19),t.E7m("ngForOf",s.displayedData),t.yG2(3),t.E7m("disabled",1===s.currentPage),t.yG2(3),t.CAO(" P\xe1gina ",s.currentPage," de ",s.totalPages," "),t.yG2(2),t.E7m("disabled",s.currentPage===s.totalPages))},dependencies:[_.ay,e.ue,e._G,v.sn,v.GS,v.Kk,v._i,v.YP,v.Ko,v.Yb,v.qo,v.KQ,v.qG,G.k],styles:['@charset "UTF-8";.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:1%}ion-searchbar[_ngcontent-%COMP%]{--background: white;--border-radius: 10px;width:25%;height:3%;left:1%}.searchbar-cancel-button[_ngcontent-%COMP%]{margin-right:0!important;text-transform:uppercase}ion-grid.table[_ngcontent-%COMP%]{--ion-grid-column-padding: 8px;border-radius:8px;overflow:hidden;margin:10px 10px 10px 17px}ion-row.tableRow[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}ion-col[_ngcontent-%COMP%]{text-align:center;padding:16px 0;font-size:14px;color:#333}ion-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#efefef}ion-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}ion-row[_ngcontent-%COMP%]:first-child.tableRow{background:var(--ion-color-medium);color:#fff;border-radius:14px 14px 0 0;font-weight:700;text-transform:uppercase}ion-row[_ngcontent-%COMP%]:last-child{color:#fff;border-radius:0 0 14px 14px}ion-row.pagination-controls[_ngcontent-%COMP%]{background:transparent;padding-left:47px;padding-right:47px}ion-button.pagination-button[_ngcontent-%COMP%]{margin-right:35px}ion-button.pagination-button[_ngcontent-%COMP%]:last-child{margin-right:0}.pagination-controls[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{background-color:transparent!important;font-size:2em}ion-button.button-table[_ngcontent-%COMP%]{--border-radius: 10px}.buttonsFacturar[_ngcontent-%COMP%]{align-items:end;margin-left:46%}ion-button.buttonFac[_ngcontent-%COMP%]{border-radius:35px;transition:transform .3s,box-shadow .3s}.buttonFac[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:4px 4px 8px #0003}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:800px}ion-card[_ngcontent-%COMP%]{--background: #fff;box-shadow:0 4px 8px #0000001a;border-radius:8px}ion-card-header[_ngcontent-%COMP%]{--background: #fff;background-color:#e9e9e9;border-bottom:2px solid #e0e0e0}ion-card-title[_ngcontent-%COMP%]{color:#333;--background: #fff;font-weight:700}ion-label[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}ion-note[_ngcontent-%COMP%]{color:#666;font-size:1rem;--background: #fff}ion-item.searchBar[_ngcontent-%COMP%]{--background: transparent}ion-list[_ngcontent-%COMP%]{background:#fff}.form-factura[_ngcontent-%COMP%]{padding:16px}.form-factura[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:20px}@media (min-width: 768px){ion-card[_ngcontent-%COMP%]{--background: #fafafa;box-shadow:0 8px 16px #0003;border-radius:12px;max-width:800px;margin:20px auto}ion-card-header[_ngcontent-%COMP%]{background-color:#e9e9e9}ion-card-title[_ngcontent-%COMP%]{color:#222}ion-label[_ngcontent-%COMP%]{font-weight:600}ion-note[_ngcontent-%COMP%]{color:#444}.form-factura[_ngcontent-%COMP%]{padding:16px;background-color:#ededed;box-shadow:0 8px 16px #0003;border-radius:12px;max-width:800px;margin:20px auto}.list-factura[_ngcontent-%COMP%]{border-radius:8px}.form-factura[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:20px}.buttonsFacturarGenerar[_ngcontent-%COMP%]{align-items:end;margin-left:63%;margin-top:0%;margin-bottom:2%}}@media (max-width: 600px){ion-grid.table[_ngcontent-%COMP%]{--ion-grid-column-padding: 8px;border-radius:8px;overflow:hidden;margin:7px 7px 7px 6px}ion-col[_ngcontent-%COMP%]{--ion-grid-column-padding: 5px;font-size:12px}ion-row[_ngcontent-%COMP%]:first-child{padding-left:5px}ion-searchbar[_ngcontent-%COMP%]{width:100%;height:6%;left:1%}.buttonsFacturar[_ngcontent-%COMP%]{align-items:end;margin-left:30%;margin-top:25px}ion-label[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;--background: #fff}ion-note[_ngcontent-%COMP%]{color:#666;font-size:14px;--background: #fff}.buttonsFacturarGenerar[_ngcontent-%COMP%]{align-items:end;margin-left:16%;margin-bottom:4%}.pagination-controls[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{background-color:transparent!important;font-size:1.2em}}']}),k})()}];let z=(()=>{var b;class k{}return(b=k).\u0275fac=function(a){return new(a||b)},b.\u0275mod=t.a4G({type:b}),b.\u0275inj=t.s3X({imports:[R.qQ.forChild(X),R.qQ]}),k})();var Z=m(9280);let W=(()=>{var b;class k{}return(b=k).\u0275fac=function(a){return new(a||b)},b.\u0275mod=t.a4G({type:b}),b.\u0275inj=t.s3X({imports:[_.MD,e.y,v.wZ,z,Z.k]}),k})()},6088:(V,D,m)=>{m.d(D,{e:()=>p});var _=m(1528),e=m(2828),v=m(4496),R=m(9548);let p=(()=>{var T;class ${static matchValues(E){return S=>S.value!==E.value?{noMatch:!0}:null}constructor(E){this.modalController=E,this.folioSource=new e.g(""),this.currentFolio=this.folioSource.asObservable()}presentModal(E){var S=this;return(0,_.c)(function*(){yield(yield S.modalController.create(E)).present()})()}dismissModal(){return this.modalController.dismiss()}changeFolio(E){this.folioSource.next(E)}}return(T=$).\u0275fac=function(E){return new(E||T)(v.CoB(R.qS))},T.\u0275prov=v.wxM({token:T,factory:T.\u0275fac,providedIn:"root"}),$})()},4888:(V,D,m)=>{m.d(D,{k:()=>s});var _=m(1528),e=m(4496),v=m(6088),R=m(5359),p=m(9548),T=m(2408),$=m(1368),I=m(6676);function E(i,l){if(1&i&&e.wR5(0,"ion-back-button",11),2&i){const h=e.GaO();e.E7m("defaultHref",h.backButton)}}function S(i,l){if(1&i){const h=e.KQA();e.I0R(0,"ion-button",12),e.qCj("click",function(){e.usT(h);const o=e.GaO();return e.CGJ(o.dismissModal())}),e.wR5(1,"ion-icon",13),e.C$Y()}}function t(i,l){if(1&i){const h=e.KQA();e.I0R(0,"ion-icon",14),e.qCj("click",function(){e.usT(h);const o=e.GaO();return e.CGJ(o.salir())}),e.C$Y()}}function J(i,l){if(1&i&&(e.I0R(0,"ion-title")(1,"div",15)(2,"strong"),e.OEk(3),e.C$Y()()()),2&i){const h=e.GaO();e.yG2(3),e.cNF(h.title)}}function G(i,l){1&i&&e.wR5(0,"ion-img",16)}function H(i,l){if(1&i){const h=e.KQA();e.I0R(0,"ion-button",17),e.qCj("click",function(){e.usT(h);const o=e.GaO();return e.CGJ(o.ayuda())}),e.wR5(1,"ion-icon",18),e.C$Y()}}const ne=()=>["/main/home"],X=()=>["/main/servicios"];function z(i,l){if(1&i){const h=e.KQA();e.I0R(0,"div",19)(1,"a",20),e.OEk(2,"Inicio"),e.C$Y(),e.I0R(3,"a",20),e.OEk(4,"Servicios"),e.C$Y(),e.I0R(5,"a",21),e.qCj("click",function(){e.usT(h);const o=e.GaO();return e.CGJ(o.goContactanos())}),e.OEk(6,"Cont\xe1ctanos"),e.C$Y()()}2&i&&(e.yG2(),e.E7m("routerLink",e.q4q(2,ne)),e.yG2(2),e.E7m("routerLink",e.q4q(3,X)))}const Z=()=>["/main/perfil"],W=()=>["/main/folio"],b=()=>["/main/facturacion2"],k=()=>["/main/factura-tables"];function y(i,l){if(1&i&&(e.I0R(0,"div",19)(1,"a",20),e.OEk(2),e.C$Y(),e.I0R(3,"a",20),e.OEk(4,"Pagos"),e.C$Y(),e.I0R(5,"a",20),e.OEk(6,"Facturaci\xf3n"),e.C$Y(),e.I0R(7,"a",20),e.OEk(8,"Ver Facturas"),e.C$Y()()),2&i){const h=e.GaO();e.yG2(),e.E7m("routerLink",e.q4q(5,Z)),e.yG2(),e.oRS("Bienvenido\xa0\xa0",h.nombreUsuario,""),e.yG2(),e.E7m("routerLink",e.q4q(6,W)),e.yG2(2),e.E7m("routerLink",e.q4q(7,b)),e.yG2(2),e.E7m("routerLink",e.q4q(8,k))}}function a(i,l){1&i&&e.wR5(0,"ion-menu-button",22)}let s=(()=>{var i;class l{constructor(d,o,n,r,c){this.utilsSvc=d,this.authService=o,this.AlertController=n,this.LoadingController=r,this.NavCtrl=c,this.nombreUsuario=""}ngOnInit(){var d=this;return(0,_.c)(function*(){d.cargarDatosUsuario()})()}salida(d){document.querySelectorAll("."+d)[0].scrollIntoView({behavior:"smooth",block:"center"})}goContactanos(){var d=this;return(0,_.c)(function*(){d.passto="form-container-contacto",d.salida(d.passto)})()}cargarDatosUsuario(){const d=localStorage.getItem("LUS_CORREO");d?(console.log("Correo obtenido desde localStorage:",d),this.authService.getDatosUsuario(d).subscribe({next:o=>{this.nombreUsuario=o.Usuario},error:o=>console.error(o)})):console.log("No se encontr\xf3 el correo del usuario en localStorage.")}ayuda(){var d=this;return(0,_.c)(function*(){const o=yield d.LoadingController.create({cssClass:"my-custom-class",message:"descargando manual..."});let n,r;if(yield o.present(),r=yield d.authService.getmanualfacturacion(),yield r.forEach(g=>{n=g}),n.codigo>0){var c=document.createElement("a");c.href="data:application/pdf;base64,"+n.PDF,c.download="facturacion_LerdoDigital.pdf",c.click(),yield(yield d.AlertController.create({cssClass:"not_found_alert",header:"LERDO DIGITAL",message:"El manual se descargo correctamente.",buttons:[{text:"Aceptar",handler:()=>{console.log("Confirm Okay")}}]})).present()}else yield(yield d.AlertController.create({cssClass:"not_found_alert",header:"LERDO DIGITAL",message:"No se pudo descargar el manual, favor de intentarlo nuevamente.",buttons:[{text:"Aceptar",handler:()=>{console.log("Confirm Okay")}}]})).present();o.dismiss()})()}salir(){var d=this;return(0,_.c)(function*(){yield d.NavCtrl.navigateRoot("/main/home")})()}dismissModal(){this.utilsSvc.dismissModal()}}return(i=l).\u0275fac=function(d){return new(d||i)(e.GI1(v.e),e.GI1(R.o),e.GI1(p.iW),e.GI1(p.Kg),e.GI1(T.wX))},i.\u0275cmp=e.In1({type:i,selectors:[["app-header"]],inputs:{title:"title",backButton:"backButton",isModal:"isModal",MenuButton:"MenuButton",shouldShowHorizontalMenu:"shouldShowHorizontalMenu",shouldShowHorizontalMenu2:"shouldShowHorizontalMenu2",Logo:"Logo",Manual:"Manual",Salir:"Salir"},decls:13,vars:9,consts:[[1,"ion-no-border"],["slot","start"],[3,"defaultHref",4,"ngIf"],[3,"click",4,"ngIf"],["name","log-out-outline","class","salir","color","light","title","Cerrar Sesi\xf3n",3,"click",4,"ngIf"],[4,"ngIf"],[1,"log-img","rotate-in-2-cw"],["src","../assets/logo-L.png",4,"ngIf"],["expand","block","fill","clear","shape","round","slot","end","size","20","title","MANUAL AYUDA","class","button",3,"click",4,"ngIf"],["class","horizontal-menu","slot","end",4,"ngIf"],["class","menu-button","slot","end",4,"ngIf"],[3,"defaultHref"],[3,"click"],["name","close-circle-outline",1,"modal-icon"],["name","log-out-outline","color","light","title","Cerrar Sesi\xf3n",1,"salir",3,"click"],[1,"app-name"],["src","../assets/logo-L.png"],["expand","block","fill","clear","shape","round","slot","end","size","20","title","MANUAL AYUDA",1,"button",3,"click"],["slot","end","name","help-circle-outline","size","large","color","light","hover",""],["slot","end",1,"horizontal-menu"],["routerLinkActive","active",3,"routerLink"],[2,"cursor","pointer",3,"click"],["slot","end",1,"menu-button"]],template:function(d,o){1&d&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.yuY(3,E,1,1,"ion-back-button",2)(4,S,2,0,"ion-button",3),e.C$Y(),e.yuY(5,t,1,0,"ion-icon",4)(6,J,4,1,"ion-title",5),e.I0R(7,"div",6),e.yuY(8,G,1,0,"ion-img",7),e.C$Y(),e.yuY(9,H,2,0,"ion-button",8)(10,z,7,4,"div",9)(11,y,9,9,"div",9)(12,a,1,0,"ion-menu-button",10),e.C$Y()()),2&d&&(e.yG2(3),e.E7m("ngIf",o.backButton),e.yG2(),e.E7m("ngIf",o.isModal),e.yG2(),e.E7m("ngIf",o.Salir),e.yG2(),e.E7m("ngIf",o.title),e.yG2(2),e.E7m("ngIf",o.Logo),e.yG2(),e.E7m("ngIf",o.Manual),e.yG2(),e.E7m("ngIf",o.shouldShowHorizontalMenu),e.yG2(),e.E7m("ngIf",o.shouldShowHorizontalMenu2),e.yG2(),e.E7m("ngIf",o.MenuButton))},dependencies:[$.u_,p.sn,p.GS,p.wB,p.Ko,p.Eh,p.QT,p.tM,p.Md,p.Im,p.mI,I.ER,I.LC],styles:['@charset "UTF-8";ion-title[_ngcontent-%COMP%]{line-height:30px;color:#fff}ion-title[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:20px}.modal-icon[_ngcontent-%COMP%]{font-size:30px;color:#e8f7ff}ion-list[_ngcontent-%COMP%]{display:block;padding:0}ion-toolbar[_ngcontent-%COMP%]{height:60px;box-shadow:4px 0 16px var(--ion-color-medium);--background: var(--ion-color-medium)}ion-button.button[_ngcontent-%COMP%]{--cursor: pointer}.salir[_ngcontent-%COMP%]{font-size:42px;cursor:pointer;transform:scale(-1)}@media only screen and (max-width: 767px){ion-header[_ngcontent-%COMP%]{height:1%}.salir[_ngcontent-%COMP%]{display:none}ion-button.button[_ngcontent-%COMP%]{--cursor: pointer;margin-bottom:40px}ion-toolbar[_ngcontent-%COMP%]{height:65px;flex-direction:column;align-items:flex-start;box-shadow:4px 0 16px var(--ion-color-medium)}.app-name[_ngcontent-%COMP%]{font-size:20px;display:block;text-align:center}ion-title[_ngcontent-%COMP%]{margin-left:1%;font-size:10%}ion-menu-button[_ngcontent-%COMP%]{font-size:32px;height:65px;width:65px;margin-bottom:38px}.modal-icon[_ngcontent-%COMP%]{font-size:35px;margin-top:20%}}ion-toolbar[_ngcontent-%COMP%]::part(container){border-radius:0 20px 20px 0}.horizontal-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.horizontal-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;padding:10px 20px;border-radius:25px;transition:background-color .3s ease;font-weight:700;margin-right:10px;margin-top:-12px}.horizontal-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .horizontal-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#ddd}ion-menu-button[_ngcontent-%COMP%]{display:none;color:#fff}ion-back-button[_ngcontent-%COMP%]{color:#fff}.log-img[_ngcontent-%COMP%]{width:6%;height:auto;display:block;margin-left:3%;margin-top:-1%}@media screen and (max-width: 768px){.horizontal-menu[_ngcontent-%COMP%]{display:none}ion-menu-button[_ngcontent-%COMP%]{display:block;color:#e8f7ff}.app-name[_ngcontent-%COMP%]{text-align:right}.log-img[_ngcontent-%COMP%]{text-align:right;margin-left:-6%;width:122px;margin-top:-12%}ion-list[_ngcontent-%COMP%]{display:block;padding:0}}']}),l})()}}]);