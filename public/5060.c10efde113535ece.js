"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5060],{5060:(R,O,n)=>{n.r(O),n.d(O,{AuthPageModule:()=>G});var t=n(1368),c=n(6504),a=n(9548),f=n(6676),d=n(1528),y=n(3756),C=n.n(y),o=n(4496),s=n(5359),l=n(2408),h=n(1428),u=n(4888),I=n(416),E=n(8208);function M(r,g){1&r&&(o.I0R(0,"div"),o.OEk(1," El correo es requerido "),o.C$Y())}function _(r,g){1&r&&(o.I0R(0,"div"),o.OEk(1," Ingrese un correo valido "),o.C$Y())}function L(r,g){if(1&r&&(o.I0R(0,"div",13),o.yuY(1,M,2,0,"div",14)(2,_,2,0,"div",14),o.C$Y()),2&r){const m=o.GaO();o.yG2(),o.E7m("ngIf",null==m.form.controls.email.errors?null:m.form.controls.email.errors.required),o.yG2(),o.E7m("ngIf",null==m.form.controls.email.errors?null:m.form.controls.email.errors.email)}}function x(r,g){1&r&&(o.I0R(0,"div"),o.OEk(1," La contrase\xf1a es requerida "),o.C$Y())}function A(r,g){if(1&r&&(o.I0R(0,"div",13),o.yuY(1,x,2,0,"div",14),o.C$Y()),2&r){const m=o.GaO();o.yG2(),o.E7m("ngIf",null==m.form.controls.password.errors?null:m.form.controls.password.errors.required)}}const b=[{path:"",component:(()=>{var r;class g{constructor(e,i,v,P,p,S,U){this.authService=e,this.alertController=i,this.LoadingController=v,this.router=P,this.platform=p,this.toastController=S,this.sessionService=U,this.form=new c.WC({usuario:new c.Ku("",[c.AQ.required,c.AQ.email]),password:new c.Ku("",[c.AQ.required])})}ngOnInit(){}submit(){var e=this;return(0,d.c)(function*(){if(e.form.valid){const i=e.form.get("usuario").value,v=e.form.get("password").value;e.authService.login(i,v).subscribe(function(){var P=(0,d.c)(function*(p){null===p?console.log("Respuesta nula del servidor"):-1===p.codigo?(console.log("Usuario no registrado"),e.mostrarAlertaNoRegistro("Usuario no registrado","No se encontr\xf3 una cuenta con estas credenciales. Por favor, verifica tus datos o  reg\xedstrate.")):2===p.LRO_CLAVE&&(console.log("Respuesta exitosa"),localStorage.setItem("LRO_CLAVE",p.LRO_CLAVE),localStorage.setItem("LUS_CORREO",p.LUS_CORREO),localStorage.setItem("LUS_CLAVE",p.LUS_CLAVE),localStorage.setItem("ULTIMO_RFC",p.ULTIMO_RFC),e.authService.cargarNombreUsuario(p.LUS_CORREO),console.log("LRO_CLAVE almacenado:",localStorage.getItem("LRO_CLAVE")),console.log("LUS_CORREO almacenado:",localStorage.getItem("LUS_CORREO")),console.log("LUS_CLAVE almacenado:",localStorage.getItem("LUS_CLAVE")),console.log("ULTIMO_RFC almacenado:",localStorage.getItem("ULTIMO_RFC")),e.mostrarMensajeBienvenida(),e.redirigirASiguientePagina())});return function(p){return P.apply(this,arguments)}}(),P=>{console.error("Error en el inicio de sesi\xf3n:",P),e.mostrarAlerta("Int\xe9ntalo de nuevo","Se produjo un error en el inicio de sesi\xf3n.")})}else console.error("Formulario incompleto:","Por favor, completa el formulario correctamente.")})()}validatePasswordcaracteres(e){return(0,d.c)(function*(){const i=/^[a-zA-Z0-9]+$/;return console.log(i.test(String(e))),i.test(String(e))})()}ConvertirenMinusculas(e){e.value.length<120&&e.setValue(e.value.toLowerCase()),e.setValue(e.value.toLowerCase().substring(0,120))}mostrarMensajeBienvenida(){return(0,d.c)(function*(){C().fire({title:"Bienvenido",icon:"success",timer:2e3,showConfirmButton:!1}),document.body.classList.remove("swal2-height-auto")})()}mostrarAlerta(e,i){return(0,d.c)(function*(){C().fire({title:e,text:i,icon:"error",timer:3e3,showConfirmButton:!1}),document.body.classList.remove("swal2-height-auto")})()}mostrarAlertaIncorrecto(e,i){return(0,d.c)(function*(){C().fire({title:e,text:i,icon:"error",timer:3e3,showConfirmButton:!1}),document.body.classList.remove("swal2-height-auto")})()}mostrarAlertaNoRegistro(e,i){return(0,d.c)(function*(){C().fire({title:e,text:i,icon:"error",timer:3e3,showConfirmButton:!1}),document.body.classList.remove("swal2-height-auto")})()}redirigirASiguientePagina(){console.log("Redirigiendo a la siguiente p\xe1gina..."),this.router.navigate(["/main/folio"])}doRefresh(e){var i=this;return(0,d.c)(function*(){i.platform.is("mobile")?setTimeout((0,d.c)(function*(){i.form.reset(),e.target.complete(),(yield i.toastController.create({message:"Los datos han sido reiniciados.",duration:1500,position:"bottom",color:"light"})).present()}),2e3):e.target.complete()})()}}return(r=g).\u0275fac=function(e){return new(e||r)(o.GI1(s.o),o.GI1(a.iW),o.GI1(a.Kg),o.GI1(f.E5),o.GI1(l.WU),o.GI1(a.Gq),o.GI1(h.U))},r.\u0275cmp=o.In1({type:r,selectors:[["app-auth"]],decls:20,vars:6,consts:[["MenuButton","true","Salir","true"],["slot","fixed",3,"ionRefresh"],[1,"d-flex-center"],[1,"auth-form",3,"formGroup","ngSubmit","keypress.enter"],["Logo","true"],["autocomplete","email","icon","mail-outline","type","email","label","Correo electr\xf3nico: ",3,"control","input"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a: ",3,"control"],["routerLink","forgot-password",1,"ion-text-end","hand-cursor"],["expand","block","mode","ios","type","submit","color","medium","shape","round",1,"submit","buttons-form",3,"disabled"],["slot","end","name","log-in-outline"],["routerLink","sign-up","expand","block","mode","ios","fill","outline","color","medium","shape","round",1,"submit","buttons-form"],["slot","end","name","person-add-outline"],[1,"validators"],[4,"ngIf"]],template:function(e,i){1&e&&(o.wR5(0,"app-header",0),o.I0R(1,"ion-content")(2,"ion-refresher",1),o.qCj("ionRefresh",function(P){return i.doRefresh(P)}),o.wR5(3,"ion-refresher-content"),o.C$Y(),o.I0R(4,"div",2)(5,"form",3),o.qCj("ngSubmit",function(){return i.submit()})("keypress.enter",function(){return i.submit()}),o.wR5(6,"app-logo",4),o.I0R(7,"app-custom-input",5),o.qCj("input",function(){return i.ConvertirenMinusculas(i.form.controls.usuario)}),o.C$Y(),o.yuY(8,L,3,2,"div",6),o.wR5(9,"app-custom-input",7),o.yuY(10,A,2,1,"div",6),o.I0R(11,"p",8),o.OEk(12," \xbfOlvidaste tu contrase\xf1a? "),o.C$Y(),o.wR5(13,"br"),o.I0R(14,"ion-button",9),o.OEk(15," Ingresar "),o.wR5(16,"ion-icon",10),o.C$Y(),o.I0R(17,"ion-button",11),o.OEk(18," Resgistrar "),o.wR5(19,"ion-icon",12),o.C$Y()()()()),2&e&&(o.yG2(5),o.E7m("formGroup",i.form),o.yG2(2),o.E7m("control",i.form.controls.usuario),o.yG2(),o.E7m("ngIf",i.form.controls.usuario.errors&&i.form.controls.usuario.touched),o.yG2(),o.E7m("control",i.form.controls.password),o.yG2(),o.E7m("ngIf",i.form.controls.password.errors&&i.form.controls.password.touched),o.yG2(4),o.E7m("disabled",i.form.invalid))},dependencies:[t.u_,c.sz,c.u,a.sn,a._i,a.Ko,a._I,a.Wi,a.mY,f.ER,u.k,I.y,E.w,c.uW],styles:['@charset "UTF-8";.hand-cursor[_ngcontent-%COMP%]{cursor:pointer}ion-button[_ngcontent-%COMP%]{text-transform:none}.safe-p-bottom[_ngcontent-%COMP%]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.submit[_ngcontent-%COMP%]{margin-top:15px}.empty[_ngcontent-%COMP%]{text-align:center;padding:60px;opacity:30%}.empty[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:100px}.d-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.validators[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:13px;text-align:center}.auth-form[_ngcontent-%COMP%]{width:600px;text-align:center;margin:1%}ion-button.buttons-form[_ngcontent-%COMP%]{border-radius:35px;width:100%;--cursor: pointer;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0;font-size:1.1em;transition:transform .3s,box-shadow .3s}ion-button.buttons-form[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:4px 4px 8px #0003}@media screen and (max-width: 768px){.auth-form[_ngcontent-%COMP%]{width:600px;padding:1%}}@media (prefers-color-scheme: dark){p[_ngcontent-%COMP%]{color:#fff}}']}),g})()},{path:"sign-up",loadChildren:()=>Promise.all([n.e(9312),n.e(648)]).then(n.bind(n,648)).then(r=>r.SignUpPageModule)},{path:"forgot-password",loadChildren:()=>Promise.all([n.e(9312),n.e(2448)]).then(n.bind(n,64)).then(r=>r.ForgotPasswordPageModule)},{path:"folio",loadChildren:()=>Promise.all([n.e(2480),n.e(9312)]).then(n.bind(n,100)).then(r=>r.FolioPageModule)}];let T=(()=>{var r;class g{}return(r=g).\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.a4G({type:r}),r.\u0275inj=o.s3X({imports:[f.qQ.forChild(b),f.qQ]}),g})();var w=n(9280);let G=(()=>{var r;class g{}return(r=g).\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.a4G({type:r}),r.\u0275inj=o.s3X({imports:[t.MD,c.y,a.wZ,T,w.k]}),g})()},416:(R,O,n)=>{n.d(O,{y:()=>C});var t=n(4496),c=n(1368),a=n(9548),f=n(6504);function d(o,s){if(1&o&&t.wR5(0,"ion-icon",4),2&o){const l=t.GaO();t.E7m("name",l.icon)}}function y(o,s){if(1&o){const l=t.KQA();t.I0R(0,"ion-button",5),t.qCj("click",function(){t.usT(l);const u=t.GaO();return t.CGJ(u.showOrHidePassword())}),t.wR5(1,"ion-icon",6),t.C$Y()}if(2&o){const l=t.GaO();t.yG2(),t.E7m("name",l.hide?"eye-outline":"eye-off-outline")}}let C=(()=>{var o;class s{constructor(){this.readonly=!1,this.hide=!0}ngOnInit(){"password"==this.type&&(this.isPassword=!0)}showOrHidePassword(){this.hide=!this.hide,this.type=this.hide?"password":"text"}}return(o=s).\u0275fac=function(h){return new(h||o)},o.\u0275cmp=t.In1({type:o,selectors:[["app-custom-input"]],inputs:{control:"control",type:"type",label:"label",autocomplete:"autocomplete",icon:"icon",readonly:"readonly",maxlength:"maxlength"},decls:4,vars:8,consts:[["lines","none",1,"custom-input"],["slot","start","color","medium",3,"name",4,"ngIf"],["label-placement","floating",1,"custom",3,"type","autocomplete","label","formControl","readonly","maxlength"],["slot","end","fill","clear","mode","ios","shape","round",3,"click",4,"ngIf"],["slot","start","color","medium",3,"name"],["slot","end","fill","clear","mode","ios","shape","round",3,"click"],["slot","icon-only","color","medium",1,"",3,"name"]],template:function(h,u){1&h&&(t.I0R(0,"ion-item",0),t.yuY(1,d,1,1,"ion-icon",1),t.wR5(2,"ion-input",2),t.yuY(3,y,2,1,"ion-button",3),t.C$Y()),2&h&&(t.yG2(),t.E7m("ngIf",u.icon),t.yG2(),t.E7m("type",u.type)("autocomplete",u.autocomplete)("label",u.label)("formControl",u.control)("readonly",u.readonly)("maxlength",u.maxlength),t.yG2(),t.E7m("ngIf",u.isPassword))},dependencies:[c.u_,a.sn,a.Ko,a.A5,a.Yb,a.qG,f.ue,f.Mj,f.ug],styles:['@charset "UTF-8";ion-button[_ngcontent-%COMP%]{text-transform:none}ion-content[_ngcontent-%COMP%]{--keyboard-offset: 0 !important}ion-item.custom-input[_ngcontent-%COMP%]{--ion-item-background: rgb( 255, 255, 255 );--padding-start: 21px;--padding-end: 0px;--inner-padding-top: 4px;--inner-padding-bottom: 4px;min-height:10px}ion-input.custom[_ngcontent-%COMP%]{--border: 1px solid #f4f4f4;--box-shadow: 0 0 10px #0f959c;--background: rgb(255, 255, 255);--border-bottom: 20%;font-size:14px;--padding-start: 10px;--padding-end: 1px}.custom-input[_ngcontent-%COMP%]{--border-color: rgb(224, 224, 224);--border-radius: 50px;--border-width: 1px;margin:20px 0;transition:border-color .3s ease;border-color:var(--border-color)}.custom-input[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{position:relative;bottom:2px}.custom-input[_ngcontent-%COMP%]:valid, .custom-input[_ngcontent-%COMP%]:valid:focus{--border-color: #28a745}.validators[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:13px;text-align:center}@media (min-width: 769px){.auth-form[_ngcontent-%COMP%]{width:100px}}@media screen and (min-width: 612px){ion-item.custom-input[_ngcontent-%COMP%]{--padding-start: 21px;--padding-end: 0px;--inner-padding-top: 4px;--inner-padding-bottom: 4px;min-height:10px}}']}),s})()},8208:(R,O,n)=>{n.d(O,{w:()=>o});var t=n(4496),c=n(1368),a=n(9548);function f(s,l){1&s&&t.wR5(0,"ion-img",5)}function d(s,l){1&s&&(t.I0R(0,"h1")(1,"strong",6),t.OEk(2,"Lerdo"),t.C$Y(),t.OEk(3,"Digital"),t.C$Y())}function y(s,l){1&s&&t.wR5(0,"ion-icon",7)}function C(s,l){1&s&&(t.I0R(0,"h1",8),t.OEk(1,"Facturaci\xf3n"),t.C$Y())}let o=(()=>{var s;class l{constructor(){this.miRutaDeImagen="assets/icon-dash.png"}ngOnInit(){}}return(s=l).\u0275fac=function(u){return new(u||s)},s.\u0275cmp=t.In1({type:s,selectors:[["app-logo"]],inputs:{User:"User",Logo:"Logo",Titulo:"Titulo"},decls:5,vars:4,consts:[["class","img_login ","src","../assets/logo-L.png",4,"ngIf"],["color","dark"],[4,"ngIf"],["name","person-outline","style","height: 12rem; width: 100%;","class","user","color","medium",4,"ngIf"],["class","Titulo","color","light",4,"ngIf"],["src","../assets/logo-L.png",1,"img_login"],[2,"color","#6d6d6d"],["name","person-outline","color","medium",1,"user",2,"height","12rem","width","100%"],["color","light",1,"Titulo"]],template:function(u,I){1&u&&(t.yuY(0,f,1,0,"ion-img",0),t.I0R(1,"ion-text",1),t.yuY(2,d,4,0,"h1",2),t.C$Y(),t.yuY(3,y,1,0,"ion-icon",3)(4,C,2,0,"h1",4)),2&u&&(t.E7m("ngIf",I.Logo),t.yG2(2),t.E7m("ngIf",I.Logo),t.yG2(),t.E7m("ngIf",I.User),t.yG2(),t.E7m("ngIf",I.Titulo))},dependencies:[c.u_,a.Ko,a.Eh,a.Wg],styles:["h1[_ngcontent-%COMP%]{margin-top:0}strong[_ngcontent-%COMP%]{color:#6d6d6d}.img_login[_ngcontent-%COMP%]{height:15rem;width:101%}.Titulo[_ngcontent-%COMP%]{margin-top:0}"]}),l})()}}]);